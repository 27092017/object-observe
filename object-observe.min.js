Object.observe||function(e,u,t){var B=t.Node?function(a){return a&&a instanceof t.Node}:function(a){return a&&"object"===typeof a&&"number"===typeof a.nodeType&&"string"===typeof a.nodeName},v=u.isArray||function(a){return function(b){return"[object Array]"===a.call(b)}}(e.prototype.toString),C=e.freeze?function(a,b){var c=e.getOwnPropertyDescriptor(a,b);return c?"get"in c||"set"in c:!1}:function(){return!1},n=u.prototype.indexOf?function(a,b,c){return b.indexOf(a,c)}:function(a,b,c){for(c=c||0;c<
b.length;c++)if(b[c]===a)return c;return-1},q="undefined"!==typeof t.Map&&Map.prototype.forEach?function(){return new Map}:function(){var a=[],b=[];return{size:0,has:function(b){return-1<n(b,a)},get:function(c){return b[n(c,a)]},set:function(c,d){var h=n(c,a);-1===h?(a.push(c),b.push(d),this.size++):b[h]=d},"delete":function(c){c=n(c,a);-1<c&&(a.splice(c,1),b.splice(c,1),this.size--)},forEach:function(c,d){for(var h=0;h<a.length;h++)c.call(d,b[h],a[h],this)}}},w=Object.keys||function(a){var b=[],
c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b},x=e.is||function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b},k,l,D="add update delete reconfigure setPrototype preventExtensions".split(" "),E=["add","update","delete","splice"],H=function(a,b,c){var d=k.get(a);v(c)||(c=v(a)?E:D);d?d.handlers.set(b,y(b,a,c)):(k.set(a,d={handlers:q(),frozen:e.isFrozen?e.isFrozen(a):!1,extensible:e.isExtensible?e.isExtensible(a):!0,properties:B(a)?[]:w(a)}),d.handlers.set(b,y(b,a,c)),z(a,d),F(a,d),setTimeout(function G(){k.has(a)&&
(r(a,d),A(d),setTimeout(G,17))},17))},F=function(a,b){for(var c=b.properties,d=b.values=[],h=0;h<c.length;)d[h]=a[c[h++]]},r=function(a,b,c){if(b.handlers.size&&!b.frozen){var d,h,k,g=b.values,f=0,l,m;if(b.extensible){d=b.properties.slice();h=d.length;for(k=w(a);f<k.length;)m=k[f++],l=n(m,d),-1===l?(p(b,{name:m,type:"add",object:a},c),b.properties.push(m),g.push(a[m])):(d[l]=null,h--,C(a,m)||x(a[m],g[l])||(p(b,{name:m,type:"update",object:a,oldValue:g[l]},c),g[l]=a[m]));for(f=d.length;h&&f--;)null!==
d[f]&&(p(b,{name:d[f],type:"delete",object:a,oldValue:g[f]},c),b.properties.splice(f,1),g.splice(f,1),h--);e.isExtensible&&!e.isExtensible(a)&&(b.extensible=!1,p(b,{type:"preventExtensions",object:a},c),b.frozen||(b.frozen=e.isFrozen(a)))}else if(!b.frozen){for(;f<d.length;)m=d[f++],x(a[m],g[f])||(p(b,{name:m,type:"update",object:a,oldValue:g[f]}),g[f]=a[m]);e.isFrozen(a)&&(b.frozen=!0)}}},A=function(a){a.handlers.forEach(function(a,c){a.changeRecords.length&&(c(a.changeRecords),a.changeRecords=[])})},
z=function(a,b){b||(b=k.get(a));var c=b&&b.notifier;if(c)return c;c={notify:function(b){b.type;var c=k.get(a);if(c){var e={object:a},g;for(g in b)"object"!==g&&(e[g]=b[g]);p(c,e)}},performChange:function(b,c,e){if("string"!==typeof b)throw new TypeError("Invalid non-string changeType");if("function"!==typeof c)throw new TypeError("Cannot perform non-function");var g=k.get(a),f;c=c.call(e);g&&r(a,g,b);if(g&&c&&"object"===typeof c){b={object:a,type:b};for(f in c)"object"!==f&&"type"!==f&&(b[f]=c[f]);
p(g,b)}}};b&&(b.notifier=c);return c},y=function(a,b,c){var d=l.get(a),e;d?(e=d.get(b))?e.acceptList=c:d.set(b,e={acceptList:c,changeRecords:[]}):(d=q(),d.set(b,e={acceptList:c,changeRecords:[]}),l.set(a,d));return e},p=function(a,b,c){a.handlers.forEach(function(a){(null==c||-1===n(c,a.acceptList))&&-1<n(b.type,a.acceptList)&&a.changeRecords.push(b)})};k=q();l=q();e.observe=function(a,b,c){if(null===a||"object"!==typeof a)throw new TypeError("Object.observe cannot observe non-object");if("function"!==
typeof b)throw new TypeError("Object.observe cannot deliver to non-function");if(e.isFrozen&&e.isFrozen(b))throw new TypeError("Object.observe cannot deliver to a frozen function object");H(a,b,c);return a};e.unobserve=function(a,b){if(null===a||"object"!==typeof a)throw new TypeError("Object.unobserve cannot unobserve non-object");if("function"!==typeof b)throw new TypeError("Object.unobserve cannot deliver to non-function");var c=k.get(a),d;if(c&&c.handlers.has(b)){r(a,c);setTimeout(function(){A(c)},
0);d=l.get(b);if(1===d.size&&d.get(a))l["delete"](b);else d["delete"](a);if(1===c.handlers.size)k["delete"](a);else c.handlers["delete"](b)}return a};e.getNotifier=function(a){if(null===a||"object"!==typeof a)throw new TypeError("Object.getNotifier cannot getNotifier non-object");return e.isFrozen&&e.isFrozen(a)?null:z(a)};e.deliverChangeRecords=function(a){if("function"!==typeof a)throw new TypeError("Object.deliverChangeRecords cannot deliver to non-function");var b=l.get(a);b&&b.forEach(function(b,
d){r(d,k.get(d));b.changeRecords.length&&(a(b.changeRecords),b.changeRecords=[])})}}(Object,Array,this);